{% extends "base.html" %}

{% block title %}
   BlogiFy Profile
{% endblock %}

{% block content %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


<form action="" method="POST">
    {% csrf_token %}
    <div class="container">
        <div>
            <a href="{% url 'BlogifyPageList' %}">Regresar</a>
        </div>
        <div>
            <a href="{% url 'AccountChangePass' %}">Cambiar contraseña</a>
        </div>                
        
        <div class="form-floating">
            <input type="text" name="username" maxlength="150" autocapitalize="none" autocomplete="username" autofocus="" required="" id="id_username" class="form-control" placeholder="" value="{{user.username}}" disabled="disabled">
           
            <label for="id_username">Nombre de usuario</label>
            <p></p>
        </div>

        <div class="form-floating">
            <input type="text" name="first_name" maxlength="150" id="id_first_name" class="form-control" placeholder="" value="{{user.first_name}}">
            <label for="id_first_name">Nombres</label>
            <p></p>
        </div>

        <div class="form-floating">
            <input type="text" name="last_name" maxlength="150" id="id_last_name" class="form-control" placeholder="" value="{{user.last_name}}">
            <label for="id_last_name">Apellidos</label>
            <p></p>
        </div>

       <div class="form-floating">
            <input type="text" name="email" maxlength="150" id="id_email" class="form-control" placeholder="" value="{{user.email}}">
            <label for="id_email">Email</label>
            <p></p>
        </div>

        <div class="form-floating">
            <textarea name="description"  id="id_description" class="form-control" style="height: 180px;" placeholder="">{{profile.description}}</textarea>
            <label for="id_description">Acerca de mí</label>
            <p></p>
        </div>

        <div class="form-floating">
            <input type="hidden" class="form-control" id="image" name="image" value="{{blog.image.id}}">
            <div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Agregar foto de perfil
                </button>
                <ul class="dropdown-menu">
                    {% for image in images %}  
                    <li>
                        <a href="#!" onclick='select_img_blog("{{image.id}}","{{image.title}}")' >
                        <img src="/media/{{image.image}}" width="100px" />{{image.title}}</a>
                    </li> 
                    {% endfor %}                      
                </ul>
            </div>
            <p></p>
        </div> 

        <div class="form-floating">
            <input type="text" name="url_site" id="id_url_site" class="form-control" placeholder="" value="{{profile.url_site}}">
            <label for="id_url_site">URL de linkedIn</label>
            <p></p>
        </div>

    </div>        
    <div style="text-align: center;">
        <div>
            <label>{{mensaje}}</label>
        </div>            
        <button type="submit">Actualizar</button>
    </div>        
</form>
<script>
    if("{{profile.image.id}}"!==""){
        select_img_blog("{{profile.image.id}}","{{profile.image.title}}")
    } 
    function select_img_blog(image_id,image_title){
        $("#image").val(image_id)
        $("#dropdownMenu1").text(image_title)
    }
</script>
{% endblock %}